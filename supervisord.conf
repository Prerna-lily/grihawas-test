[supervisord]
nodaemon=true

[program:frontend]
; Start frontend directly from root (because contents are uploaded, not the folder)
command=npm start
directory=/app
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr

[program:backend]
; Start backend Node.js server
command=node server.js
directory=/app/backend
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr

[program:apache]
; Start Apache in foreground to serve PHP payment gateway
command=/usr/sbin/apachectl -DFOREGROUND
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
