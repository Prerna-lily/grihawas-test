[supervisord]
nodaemon=true

[program:frontend]
; Start frontend directly from root
command=npm start
directory=/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
; You can also add: stderr_logfile=/dev/stderr (if needed)

[program:backend]
; Start backend Node.js server
command=node server.js
directory=/app/backend
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0

[program:apache]
; Start Apache in foreground to serve your PHP payment gateway
command=/usr/sbin/apachectl -DFOREGROUND
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
;End
